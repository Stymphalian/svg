!function(t,r){"function"==typeof define&&define.amd?define(r):"object"==typeof exports?exports.svg=r():t.svg=r()}(this,function(){var t=function(){function t(n,o){n&&"[object String]"===Object.prototype.toString.call(n)?this.dom=r.document.createElementNS(t.prototype.svg_ns,n):null!==n&&(this.dom=n),o&&o.appendChild(this.dom)}var r={window:window,document:window.document};return t.prototype.version="0.0.0",t.prototype.svg_ns="http://www.w3.org/2000/svg",t.prototype.xlink_ns="http://www.w3.org/1999/xlink",t.prototype.xml_ns="http://www.w3.org/2000/xmlns/",t.prototype.clear=function(){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);return this},t.prototype.remove=function(){this.clear(),this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom)},t.prototype.clone=function(){var r=this.dom.parentNode,n=(this.dom.tagName.toLowerCase(),this.dom.cloneNode(!0));r&&r.appendChild(n);var o=new t(n);for(var i in this)if(Object.prototype.hasOwnProperty.call(this,i)){if(void 0!==t.prototype.plugin.has[i])continue;o[i]=this[i]}return o},t.prototype.extend=function(r){r(t,t.prototype.util)},t.prototype.plugin=function(r,n){var o=Object.prototype.hasOwnProperty,i=r(t,t.prototype.util);o.call(i,"name")!==!1&&o.call(i,"constructor")!==!1&&(void 0===n&&(n=!1),(t.prototype.plugin.has[i.name]!==!0||n!==!1)&&(t.prototype.plugin.has[i.name]=!0,Object.defineProperty(t.prototype,i.name,{get:function(){var t=new i.constructor(this);return Object.defineProperty(this,i.name,{value:t,writable:!0,configurable:!0,enumerable:!0}),t},set:function(){},configurable:!0,enumerable:!0})))},t.prototype.plugin.has={},new t}();return function(t){function r(){}t.__proto__.util=r,r.is=function(t,r){if(void 0===t||null===t)return!1;var n=Object.prototype.toString.call(t).toLowerCase(),o="[object ",i=n.substring(o.length,o.length+r.length);return i===r},r.toNum=function(t){if(null===t)return null;var r=+t;return isNaN(+t)?t:r},r.mixin=function(t,r,n){n=void 0===n?!1:n;for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n||!Object.prototype.hasOwnProperty.call(t,o))&&(t[o]=r[o]);return t},r.mixinUsingFunc=function(t,r,n){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=n(t,r,o));return t},r.mixinFromExports=function(t,r,n,o){if(!n||"[object Array]"!=Object.prototype.toString.call(n)){o=void 0===o?!1:o;var i,e,u=n.length;for(i=0;u>i;++i)e=n[i],Object.prototype.hasOwnProperty.call(r,e)&&(o||!Object.prototype.hasOwnProperty.call(t,e))&&(t[e]=r[e]);return t}}}(t),t.extend(function(t,r){function n(){}function o(t){return 0>t?0:t>255?255:t}t.prototype.color=new n,n.prototype.rgb2hex=function(t,r,n){var i=["#",0,0,0];return i[1]=Number.prototype.toString.call(o(t),16),i[2]=Number.prototype.toString.call(o(r),16),i[3]=Number.prototype.toString.call(o(n),16),Array.prototype.join.call(i,"")},n.prototype.hex2rgb=function(t){return t="#"===t.charAt(0)?t.substring(1,7):t,{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},n.prototype.asHex=function(t,o,i){if(void 0===t)return null;if(r.is(t,"string"))return"#"!==a.charAt(0)&&(t="#"+t),t;if(void 0!==o&&void 0!==i)return n.prototype.rgb2hex(t,o,i)}}),t.extend(function(t,r){function n(t,r,n){if(void 0===t)return this;var o=r;if(this.attrMunger){var i=this.attrMunger(t,r);i.munged&&(o=i.value)}return void 0===o?this:(void 0===n||null===n?this.dom.setAttribute(t,o):this.dom.setAttributeNS(n,t,o),this)}function o(t,o,i){if(void 0===t)return function(){for(var t,r,n=[],o=this.dom.attributes.length,i=0;o>i;++i)t=this.dom.attributes[i].name,r=this.dom.attributes[i].value,n.push([t,r]);return n}.call(this);if(r.is(t,"object")){i=void 0!==o?o:null;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.call(this,e,t[e],i);return this}if(r.is(t,"string")){if(void 0===o){var u=this.dom.attributes[t];return null!==u&&void 0!==u?u.value:null}return void 0===i&&(i=null),n.call(this,t,o,i),this}if(r.is(t,"array")){for(var u={},a=t.length,s=0;a>s;++s){var c=this.dom.attributes[t[s]];void 0!==c&&null!==c&&null!==c.value&&(u[t[s]]=c.value)}return u}}t.prototype.attr=o,o._defineProperty=function(t,r,n,o){return Object.defineProperty(t,r,{get:n,set:o,configurable:!0,enumerable:!0}),t},o.DirectAccessNoFunction=function(t,n,i){void 0===i&&(i=t);for(var e=n.length,u=0;e>u;++u)!function(n){var e=!1;"+"===n.charAt(0)&&(e=!0,n=n.substring(1)),o._defineProperty(t,n,function(){return e?r.toNum(i.attr(n)):i.attr(n)},function(t){return i.attr(n,t),i})}(n[u])},o.DirectAccess=function(t,n,o){void 0===o&&(o=t);for(var i=n.length,e=0;i>e;++e){var u=!1,a=n[e];"+"===a.charAt(0)&&(u=!0,a=a.substring(1)),t[a]=function(t,n){return function(i){return void 0===i?n?r.toNum(o.attr(t)):o.attr(t):(o.attr(t,i),o)}}(a,u)}}}),t.plugin(function(t,r){function n(t){function n(t){return null!==t.attr("cx")}function o(t){return null!==t.attr("rx")}var i=["+x","+y","+width","+height","+rx","+ry","+r","+cx","+cy"];return t.attr.DirectAccessNoFunction(this,i,t),this.pos=function(o,i){return n(t)?void 0===o?{cx:r.toNum(t.attr("cx")),cy:r.toNum(t.attr("cy"))}:(t.attr({cx:o,cy:i}),t):void 0===o?{x:r.toNum(t.attr("x")),y:r.toNum(t.attr("y"))}:(t.attr({x:o,y:i}),t)},this.size=function(i,e){return o(t)?void 0===i?{rx:r.toNum(t.attr("rx")),ry:r.toNum(t.attr("ry"))}:(t.attr({rx:i,ry:e}),t):n(t)?void 0===i?{r:r.toNum(t.attr("r"))}:(t.attr({r:i}),t):void 0===i?{width:r.toNum(t.attr("width")),height:r.toNum(t.attr("height"))}:(t.attr({width:i,height:e}),t)},this.move=function(o,i){if(void 0===o)return null;if(null!==t.attr("points"));else if(null!==t.attr("x1")){var e=t.attr(["x1","y1","x2","y2"]);return e.x1=r.toNum(e.x1)+o,e.y1=r.toNum(e.y1)+i,e.x2=r.toNum(e.x2)+o,e.y2=r.toNum(e.y2)+i,t.attr(e),t}var e=this.pos();return t.attr(n(t)?{cx:o+e.cx,cy:i+e.cy}:{x:o+e.x,y:i+e.y}),t},this}return{name:"shape",constructor:function(t){return n.call(this,t),this}}}),t.plugin(function(){function t(t){return this.translate=function(){return t},this}return{name:"transform",constructor:function(r){return t.call(this,r),this}}}),t.plugin(function(t,r){function n(t){var r=function(r){return t.attr("style",r)};return o.call(r,t),r}function o(t){function n(t){return 0>t&&(t=0),t>1&&(t=1),t}function o(t,o){if(void 0===o){var o=this.attr(t);return null!=o?r.toNum(o):null}return o=n(r.toNum(o)),this.attr(t,o),this}function i(t,n){var o;return void 0===n?(o=this.attr(t),null===o?null:o=o.split(" ").map(function(t){return r.toNum(t)})):(o=r.is(n,"array")?n.join(" "):n,this.attr(t,o),this)}function e(r){return t.attr("stroke",r)}function u(r){return t.attr("fill",r)}this.stroke=e,e.width=function(n){return r.toNum(t.attr("stroke-width",n))},e.opacity=function(r){return o.call(t,"stroke-opacity",r)},e.dasharray=function(r){return i.call(t,"stroke-dasharray",r)},this.fill=u,u.opacity=function(r){return o.call(t,"fill-opacity",r)}}return{name:"style",constructor:n}}),t.plugin(function(t){function r(){return this.parse=function(r){function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}if(void 0===r)return null;var o=r.tagName.toLowerCase(),i=new t(r),e=t.prototype[o];return e["as"+n(e.name)].call(i),i},this}return{name:"lex",constructor:function(t){return r.call(this,t),this}}}),t.extend(function(t){function r(r,n,i){var e=document.getElementById(r);if(null===e)return console.error("Invalid parent container id"),null;void 0===n&&(n=e.clientWidth),void 0===i&&(i=e.clientHeight);var u=new t("svg",e);return u.attr({x:0,y:0,width:n,height:i}),canvas=o.call(u),canvas.dom.setAttribute("xmlns",t.prototype.svg_ns),canvas.dom.setAttributeNS(t.prototype.xml_ns,"xmlns:xlink",t.prototype.xlink_ns),canvas.attr({version:"1.1",baseProfile:"full"}),canvas}function n(r,n,i,e){var u=new t("svg",this.dom);return u.attr({x:r,y:n,width:i,height:e}),o.call(u),u}function o(){return this.pos=function(t,r){if(void 0===t){var n=this.attr.y;if(null!==n)return{x:n[0],y:n[1]}}else this.attr({x:t,y:r})},this.viewBox=function(t,r,n,o){if(void 0===t){var i=this.attr("viewBox");return null===i?null:(i=i.split(" "),{x:parseFloat(i[0]),y:parseFloat(i[1]),w:parseFloat(i[2]),h:parseFloat(i[3])})}this.attr("viewBox",[t,r,n,o].join(" "))},this.preserveAspectRatio=function(t,r,n){return r=void 0===r?"":r,n(n===udnefined)?"":n,this.attr("preserveAspectRatio",r+" "+t+" "+n),this},this.zoom=function(){return console.warn("zoom not implemented"),this},this}t.prototype.svg=n,t.prototype.svgRoot=r,n.asSvg=o}),t.extend(function(t){function r(){var r=new t("g",this.dom);return n.call(r)}function n(){return this}t.prototype.g=r,r.asG=n}),t.extend(function(t,r){function n(r,n,i,e){var u=new t("rect",this.dom);return u.attr({x:r,y:n,width:i,height:e}),o.call(u)}function o(){return this.round=function(t,n){return void 0===t?{rx:r.toNum(this.attr("rx")),ry:r.toNum(this.attr("ry"))}:(this.attr({rx:t,ry:n}),this)},this}t.prototype.rect=n,n.asRect=o}),t.extend(function(t,r){function n(r,n,i){var e=new t("circle",this.dom);return e.attr({cx:r,cy:n,r:i}),o.call(e),e}function o(){return this.radius=function(t){return void 0===t?r.toNum(this.attr("r",t)):void this.attr("r",t)},this.center=function(t,n){return void 0===t?{cx:r.toNum(this.attr("cx")),cy:r.toNum(this.attr("cy"))}:(this.attr({cx:t,cy:n}),this)},this}t.prototype.circle=n,n.asCircle=o}),t.extend(function(t,r){function n(r,n,i,e){var u=new t("ellipse",this.dom);return u.attr({cx:r,cy:n,rx:i,ry:e}),o.call(u)}function o(){return this.attr.DirectAccess(this,["+rx","+ry"]),this.center=function(t,n){return void 0===t?{cx:r.toNum(this.attr("cx")),cy:r.toNum(this.attr("cy"))}:(this.attr({cx:t,cy:n}),this)},this}t.prototype.ellipse=n,n.asEllipse=o}),t.extend(function(t,r){function n(r,n,i,e){var u=new t("line",this.dom);return u.attr({x1:r,y1:n,x2:i,y2:e}),o.call(u)}function o(){return this.origin=function(t,n){return void 0===t?{x:r.toNum(this.attr("x1")),y:r.toNum(this.attr("y1"))}:(this.attr({x1:t,y1:n}),this)},this.dest=function(t,n){return void 0===t?{x:r.toNum(this.attr("x2")),y:r.toNum(this.attr("y2"))}:(this.attr({x2:t,y2:n}),this)},this.move=function(t,n){var o=this.attr(["x1","y1","x2","y2"]);return o.x1=r.toNum(o.x1)+t,o.y1=r.toNum(o.y1)+n,o.x2=r.toNum(o.x2)+t,o.y2=r.toNum(o.y2)+n,this.attr(o),this},this}t.prototype.line=n,n.asLine=o}),t});